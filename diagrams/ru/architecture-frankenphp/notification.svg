<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="721px" preserveAspectRatio="none" style="width:630px;height:721px;background:#FFFFFF;" version="1.1" viewBox="0 0 630 721" width="630px" zoomAndPan="magnify"><title>&#1044;&#1074;&#1086;&#1081;&#1085;&#1072;&#1103; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1072; &#1085;&#1086;&#1090;&#1080;&#1092;&#1080;&#1082;&#1072;&#1094;&#1080;&#1080;</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="218.832" x="202.0764" y="29.5332">&#1044;&#1074;&#1086;&#1081;&#1085;&#1072;&#1103; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1072; &#1085;&#1086;&#1090;&#1080;&#1092;&#1080;&#1082;&#1072;&#1094;&#1080;&#1080;</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="93.8281" y2="666.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="172.2495" x2="172.2495" y1="93.8281" y2="666.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="278.4146" x2="278.4146" y1="93.8281" y2="666.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="380.021" x2="380.021" y1="93.8281" y2="666.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="462.5034" x2="462.5034" y1="93.8281" y2="666.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="581.5073" x2="581.5073" y1="93.8281" y2="666.8594"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.9033" x="5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18.6758" x="32.6138" y="65.1426">Go</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9033" x="12" y="82.752">&#1043;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072;</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.9033" x="5" y="665.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18.6758" x="32.6138" y="687.3926">Go</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9033" x="12" y="705.002">&#1043;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072;</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.165" x="125.2495" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.165" x="132.2495" y="82.752">requestChan</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.165" x="125.2495" y="665.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.165" x="132.2495" y="687.3926">requestChan</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.6064" x="229.4146" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4688" x="237.9834" y="65.1426">AsyncNotifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.6064" x="236.4146" y="82.752">(eventfd/pipe)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.6064" x="229.4146" y="665.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4688" x="237.9834" y="687.3926">AsyncNotifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.6064" x="236.4146" y="705.002">(eventfd/pipe)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82.4824" x="339.021" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.041" x="348.7417" y="65.1426">Scheduler</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4824" x="346.021" y="82.752">(heartbeat)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82.4824" x="339.021" y="665.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.041" x="348.7417" y="687.3926">Scheduler</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4824" x="346.021" y="705.002">(heartbeat)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.0205" x="431.5034" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0205" x="438.5034" y="65.1426">Reactor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1172" x="443.9551" y="82.752">(libuv)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.0205" x="431.5034" y="665.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0205" x="438.5034" y="687.3926">Reactor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1172" x="443.9551" y="705.002">(libuv)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.4775" x="544.5073" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.4775" x="551.5073" y="82.752">&#1050;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072;</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.4775" x="544.5073" y="665.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.4775" x="551.5073" y="687.3926">&#1050;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072;</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="623.9849" x="0" y="125.0039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="623.9849" y1="125.0039" y2="125.0039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="623.9849" y1="128.0039" y2="128.0039"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="201.7002" x="211.1423" y="113.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="184.0884" x="217.1423" y="131.3232">Fast Path: Scheduler &#1072;&#1082;&#1090;&#1080;&#1074;&#1077;&#1085;</text><polygon fill="#181818" points="160.332,169.5313,170.332,173.5313,160.332,177.5313,164.332,173.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.9517" x2="166.332" y1="173.5313" y2="173.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3804" x="48.9517" y="168.6748">&#1086;&#1090;&#1087;&#1088;&#1072;&#1074;&#1080;&#1090;&#1100; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;</text><path d="M177,153.1797 L177,179.1797 L348,179.1797 L348,163.1797 L338,153.1797 L177,153.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M338,153.1797 L338,163.1797 L348,163.1797 L338,153.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.6743" x="183" y="171.6748">select { case chan &lt;- req }</text><polygon fill="#181818" points="183.332,222.2344,173.332,226.2344,183.332,230.2344,179.332,226.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="177.332" x2="379.2622" y1="226.2344" y2="226.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.709" x="189.332" y="221.3779">check_requests()</text><path d="M54,189.5313 L54,248.5313 L167,248.5313 L167,199.5313 L157,189.5313 L54,189.5313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M157,189.5313 L157,199.5313 L167,199.5313 L157,189.5313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.1997" x="60" y="208.0264">&#1042;&#1099;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; &#1085;&#1072;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.1118" x="60" y="224.3779">&#1082;&#1072;&#1078;&#1076;&#1086;&#1084; &#1090;&#1080;&#1082;&#1077;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.5381" x="60" y="240.7295">Scheduler</text><polygon fill="#181818" points="368.2622,271.9375,378.2622,275.9375,368.2622,279.9375,372.2622,275.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="172.332" x2="374.2622" y1="275.9375" y2="275.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60.709" x="179.332" y="271.0811">request_id</text><polygon fill="#181818" points="569.7461,329.8164,579.7461,333.8164,569.7461,337.8164,573.7461,333.8164" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="380.2622" x2="575.7461" y1="333.8164" y2="333.8164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.7324" x="387.2622" y="328.96">spawn &#1082;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1091;</text><path d="M263,288.9375 L263,363.9375 L374,363.9375 L374,298.9375 L364,288.9375 L263,288.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M364,288.9375 L364,298.9375 L374,298.9375 L364,288.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.7397" x="269" y="307.4326">&#1041;&#1077;&#1079; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1085;&#1099;&#1093;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0947" x="269" y="323.7842">&#1074;&#1099;&#1079;&#1086;&#1074;&#1086;&#1074;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.6147" x="269" y="340.1357">&#1084;&#1080;&#1085;&#1080;&#1084;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.769" x="269" y="356.4873">&#1083;&#1072;&#1090;&#1077;&#1085;&#1090;&#1085;&#1086;&#1089;&#1090;&#1100;</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="623.9849" x="0" y="390.5195"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="623.9849" y1="390.5195" y2="390.5195"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="623.9849" y1="393.5195" y2="393.5195"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="209.311" x="207.3369" y="379.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="191.6992" x="213.3369" y="396.8389">Slow Path: &#1074;&#1089;&#1077; &#1082;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1099; &#1089;&#1087;&#1103;&#1090;</text><polygon fill="#181818" points="160.332,432.0469,170.332,436.0469,160.332,440.0469,164.332,436.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.9517" x2="166.332" y1="436.0469" y2="436.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3804" x="48.9517" y="431.1904">&#1086;&#1090;&#1087;&#1088;&#1072;&#1074;&#1080;&#1090;&#1100; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;</text><polygon fill="#181818" points="267.2178,465.3984,277.2178,469.3984,267.2178,473.3984,271.2178,469.3984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="41.9517" x2="273.2178" y1="469.3984" y2="469.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.8882" x="48.9517" y="464.542">Notify()</text><path d="M284,449.0469 L284,475.0469 L366,475.0469 L366,459.0469 L356,449.0469 L284,449.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M356,449.0469 L356,459.0469 L366,459.0469 L356,449.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.4009" x="290" y="467.542">write(fd, 1)</text><polygon fill="#181818" points="451.0137,526.2773,461.0137,530.2773,451.0137,534.2773,455.0137,530.2773" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="279.2178" x2="457.0137" y1="530.2773" y2="530.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1479" x="286.2178" y="525.4209">epoll/kqueue wakeup</text><path d="M468,485.3984 L468,560.3984 L569,560.3984 L569,495.3984 L559,485.3984 L468,485.3984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M559,485.3984 L559,495.3984 L569,495.3984 L559,485.3984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.519" x="474" y="503.8936">Reactor</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.3364" x="474" y="520.2451">&#1087;&#1088;&#1086;&#1089;&#1099;&#1087;&#1072;&#1077;&#1090;&#1089;&#1103;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.603" x="474" y="536.5967">&#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1087;&#1088;&#1080;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.4692" x="474" y="552.9482">&#1085;&#1086;&#1090;&#1080;&#1092;&#1080;&#1082;&#1072;&#1094;&#1080;&#1080;</text><polygon fill="#181818" points="183.332,584.1563,173.332,588.1563,183.332,592.1563,179.332,588.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="177.332" x2="462.0137" y1="588.1563" y2="588.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.709" x="189.332" y="583.2998">check_requests()</text><polygon fill="#181818" points="451.0137,614.5078,461.0137,618.5078,451.0137,622.5078,455.0137,618.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="172.332" x2="457.0137" y1="618.5078" y2="618.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60.709" x="179.332" y="613.6514">request_id</text><polygon fill="#181818" points="569.7461,644.8594,579.7461,648.8594,569.7461,652.8594,573.7461,648.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="463.0137" x2="575.7461" y1="648.8594" y2="648.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.7324" x="470.0137" y="644.0029">spawn &#1082;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1091;</text><!--SRC=[bLDDQzj04BtlhnZIYmqneLTJ5ueXxgcKvce8QtaT2wjQLLh5X5A8dBON1q8_JlqLHjIrwlZZByp-eywk9TaARQ06MzgTDszctZmhLta2y3kckC7VkCQPlWETOAOJFS4vhd06TBkXGwO_OePBGdocPyPOD7BzW8VyBVIuCxe8PUptszAJ8JmvjH_6AAnSnmsuh-2e8xi-VYEkQtrZ-4or8-0HT6GL68ftiOXKUyXz6pSlLSIBwCftNadb3bmHTlsQk1I-6lHF0ZSGTPjJ1AjvPyvGz6FFvWm5HNg2grt2o-9OpNWZkAEamNjkBxxSOVFBAX9__6MqjWmbOwqMdF98mMkkXaqecm2SuTB2Kv9w3QqMOnq9ZUTsOcY2rNshhmcNaluJVGkue8EvskY4-L892DsBeMf293pXA7WF3ey4E8RWMGD8IlZ0M3dS0JbruOpESwsZMdt7vea1aU5NFSK5VLEgDgV22Td234KR90VWB_n9Vbc1RNw9ywvV3iMOvMzGeNtL9kHrpjt-WsP880f70H_xG5G74kgRIajVIAD5rPjhFTMVgANKT4iD6HEdntIniYl8Z7tnNj_kV4ttz_GqgMlwDQvEZAPsFsUU7EVx8Re4vm-RcPhIMtsd9_-_fnsui2GbsDUhGlDyW-FGLQ8sw1_3qpfZ9PeoSxzHeWYavvsCICjOm9YFH1nKE4gx5hL9cUr-XrsV6jrOIMWwiA2CmF_uXnTr7p5DkUnzZmUhFYHuTD5_0000]--></g></svg>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="724px" preserveAspectRatio="none" style="width:861px;height:724px;background:#FFFFFF;" version="1.1" viewBox="0 0 861 724" width="861px" zoomAndPan="magnify"><title>&#1057;&#1086;&#1073;&#1099;&#1090;&#1080;&#1077; &#8594; Callback &#8594; &#1050;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072;</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="225.832" x="314.0483" y="29.5332">&#1057;&#1086;&#1073;&#1099;&#1090;&#1080;&#1077; &#8594; Callback &#8594; &#1050;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072;</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="163" x2="163" y1="93.8281" y2="670.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="310.2925" x2="310.2925" y1="93.8281" y2="670.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="525.9561" x2="525.9561" y1="93.8281" y2="670.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="691.2114" x2="691.2114" y1="93.8281" y2="670.4531"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.4775" x="126" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.4775" x="133" y="82.752">&#1050;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072;</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.4775" x="126" y="669.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.4775" x="133" y="690.9863">&#1050;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072;</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54.4482" x="283.2925" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.4482" x="290.2925" y="82.752">Waker</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54.4482" x="283.2925" y="669.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.4482" x="290.2925" y="690.9863">Waker</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.5605" x="466.9561" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.9961" x="497.7383" y="65.1426">&#1057;&#1086;&#1073;&#1099;&#1090;&#1080;&#1077;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.5605" x="473.9561" y="82.752">(&#1090;&#1072;&#1081;&#1084;&#1077;&#1088;, poll, ...)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.5605" x="466.9561" y="669.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.9961" x="497.7383" y="690.9863">&#1057;&#1086;&#1073;&#1099;&#1090;&#1080;&#1077;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.5605" x="473.9561" y="708.5957">(&#1090;&#1072;&#1081;&#1084;&#1077;&#1088;, poll, ...)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.0205" x="660.2114" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0205" x="667.2114" y="65.1426">Reactor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1172" x="672.6631" y="82.752">(libuv)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.0205" x="660.2114" y="669.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0205" x="667.2114" y="690.9863">Reactor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1172" x="672.6631" y="708.5957">(libuv)</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="854.9287" x="0" y="125.0039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="854.9287" y1="125.0039" y2="125.0039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="854.9287" y1="128.0039" y2="128.0039"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="79.9585" x="387.4851" y="113.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="62.3467" x="393.4851" y="131.3232">&#1055;&#1086;&#1076;&#1087;&#1080;&#1089;&#1082;&#1072;</text><polygon fill="#181818" points="298.5166,166.5313,308.5166,170.5313,298.5166,174.5313,302.5166,170.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="163.2388" x2="304.5166" y1="170.5313" y2="170.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4136" x="170.2388" y="165.6748">waker_new()</text><polygon fill="#181818" points="514.7363,196.8828,524.7363,200.8828,514.7363,204.8828,518.7363,200.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="310.5166" x2="520.7363" y1="200.8828" y2="200.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.2197" x="317.5166" y="196.0264">add_callback(coroutine_callback)</text><polygon fill="#181818" points="679.7217,238.4102,689.7217,242.4102,679.7217,246.4102,683.7217,242.4102" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="526.7363" x2="685.7217" y1="242.4102" y2="242.4102"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.9409" x="533.7363" y="237.5537">start()</text><path d="M696,213.8828 L696,255.8828 L844,255.8828 L844,223.8828 L834,213.8828 L696,213.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M834,213.8828 L834,223.8828 L844,223.8828 L834,213.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.1943" x="702" y="232.3779">loop_ref_count++</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.207" x="702" y="248.7295">active_event_count++</text><line style="stroke:#181818;stroke-width:1;" x1="163.2388" x2="205.2388" y1="283.9375" y2="283.9375"/><line style="stroke:#181818;stroke-width:1;" x1="205.2388" x2="205.2388" y1="283.9375" y2="296.9375"/><line style="stroke:#181818;stroke-width:1;" x1="164.2388" x2="205.2388" y1="296.9375" y2="296.9375"/><polygon fill="#181818" points="174.2388,292.9375,164.2388,296.9375,174.2388,300.9375,170.2388,296.9375" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.5063" x="170.2388" y="279.0811">SUSPEND()</text><path d="M20,270.0859 L20,296.0859 L157,296.0859 L157,280.0859 L147,270.0859 L20,270.0859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M147,270.0859 L147,280.0859 L157,280.0859 L147,270.0859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.2573" x="26" y="288.5811">&#1050;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072; &#1079;&#1072;&#1089;&#1099;&#1087;&#1072;&#1077;&#1090;</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="854.9287" x="0" y="326.1133"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="854.9287" y1="326.1133" y2="326.1133"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="854.9287" y1="329.1133" y2="329.1133"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="105.8696" x="374.5295" y="314.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="88.2578" x="380.5295" y="332.4326">&#1055;&#1088;&#1086;&#1073;&#1091;&#1078;&#1076;&#1077;&#1085;&#1080;&#1077;</text><polygon fill="#181818" points="537.7363,367.6406,527.7363,371.6406,537.7363,375.6406,533.7363,371.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="531.7363" x2="690.7217" y1="371.6406" y2="371.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3145" x="543.7363" y="366.7842">libuv callback</text><line style="stroke:#181818;stroke-width:1;" x1="526.7363" x2="568.7363" y1="401.9922" y2="401.9922"/><line style="stroke:#181818;stroke-width:1;" x1="568.7363" x2="568.7363" y1="401.9922" y2="414.9922"/><line style="stroke:#181818;stroke-width:1;" x1="527.7363" x2="568.7363" y1="414.9922" y2="414.9922"/><polygon fill="#181818" points="537.7363,410.9922,527.7363,414.9922,537.7363,418.9922,533.7363,414.9922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.9854" x="533.7363" y="397.1357">NOTIFY(result, exception)</text><polygon fill="#181818" points="321.5166,441.3438,311.5166,445.3438,321.5166,449.3438,317.5166,445.3438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="315.5166" x2="525.7363" y1="445.3438" y2="445.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1226" x="327.5166" y="440.4873">coroutine_callback(result)</text><line style="stroke:#181818;stroke-width:1;" x1="310.5166" x2="352.5166" y1="475.6953" y2="475.6953"/><line style="stroke:#181818;stroke-width:1;" x1="352.5166" x2="352.5166" y1="475.6953" y2="488.6953"/><line style="stroke:#181818;stroke-width:1;" x1="311.5166" x2="352.5166" y1="488.6953" y2="488.6953"/><polygon fill="#181818" points="321.5166,484.6953,311.5166,488.6953,321.5166,492.6953,317.5166,488.6953" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.1172" x="317.5166" y="470.8389">status = QUEUED</text><polygon fill="#181818" points="174.2388,515.0469,164.2388,519.0469,174.2388,523.0469,170.2388,519.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="168.2388" x2="309.5166" y1="519.0469" y2="519.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.2778" x="180.2388" y="514.1904">enqueue &#1074; Scheduler</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="854.9287" x="0" y="548.2227"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="854.9287" y1="548.2227" y2="548.2227"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="854.9287" y1="551.2227" y2="551.2227"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="119.7202" x="367.6042" y="537.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102.1084" x="373.6042" y="554.542">&#1042;&#1086;&#1079;&#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077;</text><line style="stroke:#181818;stroke-width:1;" x1="163.2388" x2="205.2388" y1="598.4258" y2="598.4258"/><line style="stroke:#181818;stroke-width:1;" x1="205.2388" x2="205.2388" y1="598.4258" y2="611.4258"/><line style="stroke:#181818;stroke-width:1;" x1="164.2388" x2="205.2388" y1="611.4258" y2="611.4258"/><polygon fill="#181818" points="174.2388,607.4258,164.2388,611.4258,174.2388,615.4258,170.2388,611.4258" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.2764" x="170.2388" y="593.5693">RESUME()</text><path d="M5,576.3984 L5,618.3984 L158,618.3984 L158,586.3984 L148,576.3984 L5,576.3984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M148,576.3984 L148,586.3984 L158,586.3984 L148,576.3984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.7803" x="11" y="594.8936">&#1050;&#1086;&#1088;&#1091;&#1090;&#1080;&#1085;&#1072; &#1087;&#1088;&#1086;&#1076;&#1086;&#1083;&#1078;&#1072;&#1077;&#1090;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.499" x="11" y="611.2451">&#1089; waker-&gt;result</text><polygon fill="#181818" points="514.7363,645.4531,524.7363,649.4531,514.7363,653.4531,518.7363,649.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="163.2388" x2="520.7363" y1="649.4531" y2="649.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.2026" x="170.2388" y="644.5967">del_callback()</text><path d="M531,629.1016 L531,655.1016 L660,655.1016 L660,639.1016 L650,629.1016 L531,629.1016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M650,629.1016 L650,639.1016 L660,639.1016 L650,629.1016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.7354" x="537" y="647.5967">&#1054;&#1095;&#1080;&#1089;&#1090;&#1082;&#1072; &#1087;&#1086;&#1076;&#1087;&#1080;&#1089;&#1082;&#1080;</text><!--SRC=[XPBDJjj04CVlVeeHfqI4F40aSm5Nwg4KIAEgKYJBE0DOh7QDimuz9Y2r1suSUsZ56xY8b01jU8NPL-YJTBosapWSUh1sFT__tuwEj42WMvhJJtDjBcb6K_ZxvGPs0Y6EWl3C_j0tcfknkRB-FvGvJXmaEWgZE90QDjRT6n0COKSbgXxsCJZ3nFhiRQr6ROI-RF0beqVwJLCpRa6iX6X1kzrksWBU2AMk5pZ48DGguKmH7QMZ8guqEexh0ltW3lVqGZCpeIVAm7KT9vyIjhQBYQ035_dfIxneD9t2naxRZPt1OE279PT6o9cfZYGkJ4sd2EICiY_d33KFoSMaqWX9T7AgEo2KYlq4Z_rGfL9lRlObHqSZz37FhwoBsUpPWMwlk-_jxLQr11vpgNNqG0-KcOcvPfqPexiifPknnNj5lnZ1b2FpTyu1L9EkoBJye5Ar55Nvzzv_UFlcKoF1OIfq2_1pYB6Eb5pHN-5y3QbCMw5RnJ8fdGx1XOEUr_Dsbm6bVfJdAQQyh7VG3Kzna0ei7_Q6jJta-bZNdExekQPm3UEXr-szy_v7ySK2k-VlcP5Padrf9iL-R6qN8XQbAp8354kXzJUdx-PhlddSuiasg2tZpFa7]--></g></svg>
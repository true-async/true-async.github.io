<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="881px" preserveAspectRatio="none" style="width:1028px;height:881px;background:#FAFAFA;" version="1.1" viewBox="0 0 1028 881" width="1028px" zoomAndPan="magnify"><title>Verbindungslebenszyklus im Pool</title><defs/><g><rect fill="#FAFAFA" height="881" style="stroke:none;stroke-width:1;" width="1028" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="216.248" x="404.7229" y="34.5332">Verbindungslebenszyklus im Pool</text><ellipse cx="340.7926" cy="58.6094" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#FFFFFF" height="50.1875" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="198.4063" x="241.5895" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79.3711" x="251.5895" y="111.0664">Coroutine ruft auf</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="178.4063" x="251.5895" y="126.1602">$pdo-&gt;query() / exec() / prepare()</text><polygon fill="#FFF9C4" points="252.1346,158.7969,429.4506,158.7969,441.4506,170.7969,429.4506,182.7969,252.1346,182.7969,240.1346,170.7969,252.1346,158.7969" style="stroke:#333333;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177.3159" x="252.1346" y="175.2979">Verbindung für diese Coroutine vorhanden?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.1177" x="223.017" y="168.3799">ja</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12.2354" x="441.4506" y="168.3799">nein</text><rect fill="#FFFFFF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="146.7383" x="11" y="192.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="126.7383" x="21" y="215.2539">Bestehende Verbindung nutzen</text><rect fill="#FFFFFF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="194.7559" x="499.8381" y="192.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174.7559" x="509.8381" y="215.2539">Aus Pool anfordern (pool acquire)</text><polygon fill="#FFF9C4" points="189.7383,247.8906,321.2119,247.8906,333.2119,259.8906,321.2119,271.8906,189.7383,271.8906,177.7383,259.8906,189.7383,247.8906" style="stroke:#333333;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.1177" x="259.4751" y="283.3096">ja</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131.4736" x="189.7383" y="264.3916">Freie Verbindung verfügbar?</text><rect fill="#FFFFFF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="141.4063" x="184.772" y="304.8096"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121.4063" x="194.772" y="327.2666">Freie Verbindung zurückgeben</text><polygon fill="#FFF9C4" points="371.5435,247.8906,477.6226,247.8906,489.6226,259.8906,477.6226,271.8906,371.5435,271.8906,359.5435,259.8906,371.5435,247.8906" style="stroke:#333333;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.1177" x="428.583" y="283.3096">ja</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106.0791" x="371.5435" y="264.3916">Aktuelle Anzahl &lt; max?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12.2354" x="489.6226" y="257.4736">nein</text><path d="M515.9541,304.8096 L515.9541,346.6885 L495.9541,350.6885 L515.9541,354.6885 L515.9541,396.5674 A0,0 0 0 0 515.9541,396.5674 L711.4639,396.5674 A0,0 0 0 0 711.4639,396.5674 L711.4639,314.8096 L701.4639,304.8096 L515.9541,304.8096 A0,0 0 0 0 515.9541,304.8096 " fill="#FFFFEE" style="stroke:#AAAAAA;stroke-width:0.5;"/><path d="M701.4639,304.8096 L701.4639,314.8096 L711.4639,314.8096 L701.4639,304.8096 " fill="#FFFFEE" style="stroke:#AAAAAA;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.0107" x="521.9541" y="323.3047">pdo_pool_factory():</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0298" x="521.9541" y="339.6563">1. ecalloc(pdo_dbh_t)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.1162" x="521.9541" y="356.0078">2. estrdup(DSN, user, pass)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.5098" x="521.9541" y="372.3594">3. driver-&gt;db_handle_factory()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2998" x="521.9541" y="388.7109">4. efree(Zugangsdaten-Kopien)</text><rect fill="#FFFFFF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="142.7422" x="353.2119" y="333.1416"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122.7422" x="363.2119" y="355.5986">Neue Verbindung erstellen</text><path d="M855.4932,317.2432 L855.4932,342.7705 L835.4932,346.7705 L855.4932,350.7705 L855.4932,376.2979 A0,0 0 0 0 855.4932,376.2979 L1016.6938,376.2979 A0,0 0 0 0 1016.6938,376.2979 L1016.6938,327.2432 L1006.6938,317.2432 L855.4932,317.2432 A0,0 0 0 0 855.4932,317.2432 " fill="#FFFFEE" style="stroke:#AAAAAA;stroke-width:0.5;"/><path d="M1006.6938,317.2432 L1006.6938,327.2432 L1016.6938,327.2432 L1006.6938,317.2432 " fill="#FFFFEE" style="stroke:#AAAAAA;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2007" x="861.4932" y="335.7383">Coroutine wird suspendiert.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.1035" x="861.4932" y="352.0898">Andere Coroutinen</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.7407" x="861.4932" y="368.4414">laufen weiter.</text><rect fill="#FFFFFF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="104.0293" x="731.4639" y="329.2236"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84.0293" x="741.4639" y="351.6807">Auf Freigabe warten</text><rect fill="#FFFFFF" height="50.1875" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="105.3945" x="544.5188" y="436.5674"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85.3945" x="554.5188" y="459.0244">Verbindung binden</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78.041" x="554.5188" y="474.1182">an Coroutine-ID</text><rect fill="#FFFFFF" height="50.1875" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="147.4121" x="523.51" y="506.7549"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90.0527" x="533.51" y="529.2119">Aufräumen registrieren</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127.4121" x="533.51" y="544.3057">bei Coroutine-Abschluss</text><polygon fill="#FFF9C4" points="340.7926,562.9424,352.7926,574.9424,340.7926,586.9424,328.7926,574.9424,340.7926,562.9424" style="stroke:#333333;stroke-width:0.5;"/><rect fill="#FFFFFF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="201.7695" x="239.9078" y="606.9424"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="181.7695" x="249.9078" y="629.3994">Abfrage über conn-&gt;methods ausführen</text><polygon fill="#FFF9C4" points="262.2269,662.0361,419.3583,662.0361,431.3583,674.0361,419.3583,686.0361,262.2269,686.0361,250.2269,674.0361,262.2269,662.0361" style="stroke:#333333;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157.1313" x="262.2269" y="678.5371">Aktive Transaktion oder Statement?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.1177" x="233.1093" y="671.6191">ja</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12.2354" x="431.3583" y="671.6191">nein</text><path d="M263.8632,696.0361 L263.8632,729.7393 L243.8632,733.7393 L263.8632,737.7393 L263.8632,771.4424 A0,0 0 0 0 263.8632,771.4424 L438.0511,771.4424 A0,0 0 0 0 438.0511,771.4424 L438.0511,706.0361 L428.0511,696.0361 L263.8632,696.0361 A0,0 0 0 0 263.8632,696.0361 " fill="#FFFFEE" style="stroke:#AAAAAA;stroke-width:0.5;"/><path d="M428.0511,696.0361 L428.0511,706.0361 L438.0511,706.0361 L428.0511,696.0361 " fill="#FFFFEE" style="stroke:#AAAAAA;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.4707" x="269.8632" y="714.5313">Pinning: Verbindung</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.6353" x="269.8632" y="730.8828">kehrt nicht zum Pool zurück,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.4707" x="269.8632" y="747.2344">bis alle Transaktionen und</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.188" x="269.8632" y="763.5859">Statements abgeschlossen sind.</text><rect fill="#FFFFFF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="221.4277" x="22.4354" y="716.1924"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72.709" x="32.4354" y="738.6494">Verbindung ist</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="39.3281" x="108.4784" y="738.6494">fixiert</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82.7227" x="151.1405" y="738.6494">an die Coroutine</text><ellipse cx="133.1493" cy="817.4424" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="133.1493" cy="817.4424" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><path d="M658.8207,696.0361 L658.8207,721.5635 L638.8207,725.5635 L658.8207,729.5635 L658.8207,755.0908 A0,0 0 0 0 658.8207,755.0908 L804.0824,755.0908 A0,0 0 0 0 804.0824,755.0908 L804.0824,706.0361 L794.0824,696.0361 L658.8207,696.0361 A0,0 0 0 0 658.8207,696.0361 " fill="#FFFFEE" style="stroke:#AAAAAA;stroke-width:0.5;"/><path d="M794.0824,696.0361 L794.0824,706.0361 L804.0824,706.0361 L794.0824,696.0361 " fill="#FFFFEE" style="stroke:#AAAAAA;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.998" x="664.8207" y="714.5313">before_release():</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.2217" x="664.8207" y="730.8828">wenn in_txn == true,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.2617" x="664.8207" y="747.2344">führt ROLLBACK aus</text><rect fill="#FFFFFF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="180.7695" x="458.0511" y="708.0166"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="160.7695" x="468.0511" y="730.4736">Verbindung kehrt zum Pool zurück</text><rect fill="#FFFFFF" height="35.0938" rx="12.5" ry="12.5" style="stroke:#333333;stroke-width:0.5;" width="175.4199" x="460.726" y="790.0908"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155.4199" x="470.726" y="812.5479">Verfügbar für andere Coroutinen</text><ellipse cx="548.4359" cy="859.4424" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="548.4359" cy="859.4424" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="340.7926" x2="340.7926" y1="68.6094" y2="88.6094"/><polygon fill="#555555" points="336.7926,78.6094,340.7926,88.6094,344.7926,78.6094,340.7926,82.6094" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="255.4751" x2="255.4751" y1="271.8906" y2="304.8096"/><polygon fill="#555555" points="251.4751,294.8096,255.4751,304.8096,259.4751,294.8096,255.4751,298.8096" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="255.4751" x2="255.4751" y1="339.9033" y2="416.5674"/><polygon fill="#555555" points="251.4751,406.5674,255.4751,416.5674,259.4751,406.5674,255.4751,410.5674" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="424.583" x2="424.583" y1="271.8906" y2="333.1416"/><polygon fill="#555555" points="420.583,323.1416,424.583,333.1416,428.583,323.1416,424.583,327.1416" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="424.583" x2="424.583" y1="368.2354" y2="416.5674"/><polygon fill="#555555" points="420.583,406.5674,424.583,416.5674,428.583,406.5674,424.583,410.5674" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="333.2119" x2="359.5435" y1="259.8906" y2="259.8906"/><polygon fill="#555555" points="349.5435,255.8906,359.5435,259.8906,349.5435,263.8906,353.5435,259.8906" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="597.2161" x2="597.2161" y1="227.8906" y2="232.8906"/><line style="stroke:#555555;stroke-width:1;" x1="597.2161" x2="255.4751" y1="232.8906" y2="232.8906"/><line style="stroke:#555555;stroke-width:1;" x1="255.4751" x2="255.4751" y1="232.8906" y2="247.8906"/><polygon fill="#555555" points="251.4751,237.8906,255.4751,247.8906,259.4751,237.8906,255.4751,241.8906" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="489.6226" x2="783.4785" y1="259.8906" y2="259.8906"/><line style="stroke:#555555;stroke-width:1;" x1="783.4785" x2="783.4785" y1="259.8906" y2="329.2236"/><polygon fill="#555555" points="779.4785,319.2236,783.4785,329.2236,787.4785,319.2236,783.4785,323.2236" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="783.4785" x2="783.4785" y1="364.3174" y2="416.5674"/><polygon fill="#555555" points="779.4785,406.5674,783.4785,416.5674,787.4785,406.5674,783.4785,410.5674" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="255.4751" x2="783.4785" y1="416.5674" y2="416.5674"/><line style="stroke:#555555;stroke-width:1;" x1="597.2161" x2="597.2161" y1="416.5674" y2="436.5674"/><polygon fill="#555555" points="593.2161,426.5674,597.2161,436.5674,601.2161,426.5674,597.2161,430.5674" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="597.2161" x2="597.2161" y1="486.7549" y2="506.7549"/><polygon fill="#555555" points="593.2161,496.7549,597.2161,506.7549,601.2161,496.7549,597.2161,500.7549" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="240.1346" x2="84.3691" y1="170.7969" y2="170.7969"/><line style="stroke:#555555;stroke-width:1;" x1="84.3691" x2="84.3691" y1="170.7969" y2="192.7969"/><polygon fill="#555555" points="80.3691,182.7969,84.3691,192.7969,88.3691,182.7969,84.3691,186.7969" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="441.4506" x2="597.2161" y1="170.7969" y2="170.7969"/><line style="stroke:#555555;stroke-width:1;" x1="597.2161" x2="597.2161" y1="170.7969" y2="192.7969"/><polygon fill="#555555" points="593.2161,182.7969,597.2161,192.7969,601.2161,182.7969,597.2161,186.7969" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="84.3691" x2="84.3691" y1="227.8906" y2="574.9424"/><line style="stroke:#555555;stroke-width:1;" x1="84.3691" x2="328.7926" y1="574.9424" y2="574.9424"/><polygon fill="#555555" points="318.7926,570.9424,328.7926,574.9424,318.7926,578.9424,322.7926,574.9424" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="597.2161" x2="597.2161" y1="556.9424" y2="574.9424"/><line style="stroke:#555555;stroke-width:1;" x1="597.2161" x2="352.7926" y1="574.9424" y2="574.9424"/><polygon fill="#555555" points="362.7926,570.9424,352.7926,574.9424,362.7926,578.9424,358.7926,574.9424" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="340.7926" x2="340.7926" y1="138.7969" y2="158.7969"/><polygon fill="#555555" points="336.7926,148.7969,340.7926,158.7969,344.7926,148.7969,340.7926,152.7969" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="340.7926" x2="340.7926" y1="586.9424" y2="606.9424"/><polygon fill="#555555" points="336.7926,596.9424,340.7926,606.9424,344.7926,596.9424,340.7926,600.9424" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="133.1493" x2="133.1493" y1="751.2861" y2="806.4424"/><polygon fill="#555555" points="129.1493,796.4424,133.1493,806.4424,137.1493,796.4424,133.1493,800.4424" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="548.4359" x2="548.4359" y1="743.1104" y2="790.0908"/><polygon fill="#555555" points="544.4359,780.0908,548.4359,790.0908,552.4359,780.0908,548.4359,784.0908" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="548.4359" x2="548.4359" y1="825.1846" y2="848.4424"/><polygon fill="#555555" points="544.4359,838.4424,548.4359,848.4424,552.4359,838.4424,548.4359,842.4424" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="250.2269" x2="133.1493" y1="674.0361" y2="674.0361"/><line style="stroke:#555555;stroke-width:1;" x1="133.1493" x2="133.1493" y1="674.0361" y2="716.1924"/><polygon fill="#555555" points="129.1493,706.1924,133.1493,716.1924,137.1493,706.1924,133.1493,710.1924" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="431.3583" x2="548.4359" y1="674.0361" y2="674.0361"/><line style="stroke:#555555;stroke-width:1;" x1="548.4359" x2="548.4359" y1="674.0361" y2="708.0166"/><polygon fill="#555555" points="544.4359,698.0166,548.4359,708.0166,552.4359,698.0166,548.4359,702.0166" style="stroke:#555555;stroke-width:1;"/><line style="stroke:#555555;stroke-width:1;" x1="340.7926" x2="340.7926" y1="642.0361" y2="662.0361"/><polygon fill="#555555" points="336.7926,652.0361,340.7926,662.0361,344.7926,652.0361,340.7926,656.0361" style="stroke:#555555;stroke-width:1;"/></g></svg>
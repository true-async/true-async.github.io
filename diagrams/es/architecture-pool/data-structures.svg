<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="933px" preserveAspectRatio="none" style="width:541px;height:933px;background:#FFFFFF;" version="1.1" viewBox="0 0 541 933" width="541px" zoomAndPan="magnify"><title>Estructuras de datos del pool</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="138.4756" x="194.4385" y="24.5332">Estructuras de datos del pool</text><!--cluster Zend Engine (zend_async_API--><g id="cluster_Zend Engine (zend_async_API"><path d="M8.5,529.6094 L212.5479,529.6094 A3.75,3.75 0 0 1 215.0479,532.1094 L222.0479,553.2188 L339.5,553.2188 A2.5,2.5 0 0 1 342,555.7188 L342,924.1094 A2.5,2.5 0 0 1 339.5,926.6094 L8.5,926.6094 A2.5,2.5 0 0 1 6,924.1094 L6,532.1094 A2.5,2.5 0 0 1 8.5,529.6094 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="222.0479" y1="553.2188" y2="553.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="203.0479" x="10" y="546.1426">Zend Engine (zend_async_API</text></g><!--cluster h)--><g id="cluster_h)"><path d="M32.5,573.6094 L46.7139,573.6094 A3.75,3.75 0 0 1 49.2139,576.1094 L56.2139,597.2188 L315.5,597.2188 A2.5,2.5 0 0 1 318,599.7188 L318,900.1094 A2.5,2.5 0 0 1 315.5,902.6094 L32.5,902.6094 A2.5,2.5 0 0 1 30,900.1094 L30,576.1094 A2.5,2.5 0 0 1 32.5,573.6094 " fill="#E3F2FD" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="56.2139" y1="597.2188" y2="597.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="13.2139" x="34" y="590.1426">h)</text></g><!--cluster ext/async (pool--><g id="cluster_ext/async (pool"><path d="M22.5,44.6094 L125.417,44.6094 A3.75,3.75 0 0 1 127.917,47.1094 L134.917,68.2188 L325.5,68.2188 A2.5,2.5 0 0 1 328,70.7188 L328,477.1094 A2.5,2.5 0 0 1 325.5,479.6094 L22.5,479.6094 A2.5,2.5 0 0 1 20,477.1094 L20,47.1094 A2.5,2.5 0 0 1 22.5,44.6094 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="20" x2="134.917" y1="68.2188" y2="68.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="101.917" x="24" y="61.1426">ext/async (pool</text></g><!--cluster h)--><g id="cluster_h)"><path d="M46.5,88.6094 L60.7139,88.6094 A3.75,3.75 0 0 1 63.2139,91.1094 L70.2139,112.2188 L301.5,112.2188 A2.5,2.5 0 0 1 304,114.7188 L304,453.1094 A2.5,2.5 0 0 1 301.5,455.6094 L46.5,455.6094 A2.5,2.5 0 0 1 44,453.1094 L44,91.1094 A2.5,2.5 0 0 1 46.5,88.6094 " fill="#FFF3E0" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="44" x2="70.2139" y1="112.2188" y2="112.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="13.2139" x="48" y="105.1426">h)</text></g><!--class BasePool--><g id="elem_BasePool"><rect codeLine="5" fill="#F1F1F1" height="276.9219" id="BasePool" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="254.5732" x="46.5" y="609.6094"/><ellipse cx="109.2129" cy="625.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M111.9785,621.4844 Q112.1348,621.2656 112.3223,621.1563 Q112.5098,621.0469 112.7285,621.0469 Q113.1035,621.0469 113.3379,621.3125 Q113.5723,621.5625 113.5723,622.1719 L113.5723,623.625 Q113.5723,624.2344 113.3379,624.5 Q113.1035,624.7656 112.7285,624.7656 Q112.3848,624.7656 112.1816,624.5625 Q111.9785,624.375 111.8691,623.8594 Q111.8223,623.5 111.6348,623.3125 Q111.3066,622.9375 110.6973,622.7188 Q110.0879,622.5 109.4629,622.5 Q108.6973,622.5 108.0566,622.8281 Q107.4316,623.1563 106.9316,623.9063 Q106.4473,624.6563 106.4473,625.6875 L106.4473,626.7813 Q106.4473,628.0156 107.3379,628.8438 Q108.2285,629.6563 109.8223,629.6563 Q110.7598,629.6563 111.416,629.4063 Q111.8066,629.25 112.2285,628.8125 Q112.4941,628.5469 112.6348,628.4688 Q112.791,628.3906 112.9941,628.3906 Q113.3223,628.3906 113.5723,628.6563 Q113.8379,628.9063 113.8379,629.25 Q113.8379,629.5938 113.4941,630 Q112.9941,630.5781 112.1973,630.9063 Q111.1191,631.3594 109.8223,631.3594 Q108.3066,631.3594 107.1035,630.7344 Q106.1191,630.2344 105.4316,629.1719 Q104.7441,628.0938 104.7441,626.8125 L104.7441,625.6563 Q104.7441,624.3281 105.3535,623.1875 Q105.9785,622.0313 107.0723,621.4219 Q108.166,620.7969 109.4004,620.7969 Q110.1348,620.7969 110.7754,620.9688 Q111.4316,621.125 111.9785,621.4844 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.6475" x="129.7129" y="631.3379">zend_async_pool_t</text><line style="stroke:#181818;stroke-width:0.5;" x1="47.5" x2="300.0732" y1="641.6094" y2="641.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174.3438" x="52.5" y="660.1426">event : zend_async_event_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.7646" x="52.5" y="677.752">handler_flags : uint8_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.7441" x="52.5" y="695.3613">circuit_state : CircuitBreakerState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.7305" x="52.5" y="712.9707">min_size : uint32_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.6201" x="52.5" y="730.5801">max_size : uint32_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.1992" x="52.5" y="748.1895">wrapper : zend_object*</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0684" x="52.5" y="765.7988">user_data : void*</text><line style="stroke:#181818;stroke-width:1;" x1="47.5" x2="300.0732" y1="772.875" y2="772.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.1875" x="52.5" y="791.4082">factory : union { fcall | internal }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211.4219" x="52.5" y="809.0176">destructor : union { fcall | internal }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.8906" x="52.5" y="826.627">healthcheck : union { fcall | internal }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.5732" x="52.5" y="844.2363">before_acquire : union { fcall | internal }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.5732" x="52.5" y="861.8457">before_release : union { fcall | internal }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211.4355" x="52.5" y="879.4551">strategy : union { object | internal }</text></g><!--class InternalPool--><g id="elem_InternalPool"><rect codeLine="24" fill="#F1F1F1" height="153.6563" id="InternalPool" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="227.5713" x="60" y="285.6094"/><ellipse cx="128.2842" cy="301.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M131.0498,297.4844 Q131.2061,297.2656 131.3936,297.1563 Q131.5811,297.0469 131.7998,297.0469 Q132.1748,297.0469 132.4092,297.3125 Q132.6436,297.5625 132.6436,298.1719 L132.6436,299.625 Q132.6436,300.2344 132.4092,300.5 Q132.1748,300.7656 131.7998,300.7656 Q131.4561,300.7656 131.2529,300.5625 Q131.0498,300.375 130.9404,299.8594 Q130.8936,299.5 130.7061,299.3125 Q130.3779,298.9375 129.7686,298.7188 Q129.1592,298.5 128.5342,298.5 Q127.7686,298.5 127.1279,298.8281 Q126.5029,299.1563 126.0029,299.9063 Q125.5186,300.6563 125.5186,301.6875 L125.5186,302.7813 Q125.5186,304.0156 126.4092,304.8438 Q127.2998,305.6563 128.8936,305.6563 Q129.8311,305.6563 130.4873,305.4063 Q130.8779,305.25 131.2998,304.8125 Q131.5654,304.5469 131.7061,304.4688 Q131.8623,304.3906 132.0654,304.3906 Q132.3936,304.3906 132.6436,304.6563 Q132.9092,304.9063 132.9092,305.25 Q132.9092,305.5938 132.5654,306 Q132.0654,306.5781 131.2686,306.9063 Q130.1904,307.3594 128.8936,307.3594 Q127.3779,307.3594 126.1748,306.7344 Q125.1904,306.2344 124.5029,305.1719 Q123.8154,304.0938 123.8154,302.8125 L123.8154,301.6563 Q123.8154,300.3281 124.4248,299.1875 Q125.0498,298.0313 126.1436,297.4219 Q127.2373,296.7969 128.4717,296.7969 Q129.2061,296.7969 129.8467,296.9688 Q130.5029,297.125 131.0498,297.4844 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.5029" x="148.7842" y="307.3379">async_pool_t</text><line style="stroke:#181818;stroke-width:0.5;" x1="61" x2="286.5713" y1="317.6094" y2="317.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.6748" x="66" y="336.1426">base : zend_async_pool_t</text><line style="stroke:#181818;stroke-width:1;" x1="61" x2="286.5713" y1="343.2188" y2="343.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.8408" x="66" y="361.752">idle : circular_buffer_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.0957" x="66" y="379.3613">active_count : uint32_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.1787" x="66" y="396.9707">waiters : callbacks_vector_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215.5508" x="66" y="414.5801">healthcheck_timer : timer_event_t*</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215.5713" x="66" y="432.1895">healthcheck_interval_ms : uint32_t</text></g><!--class PoolObj--><g id="elem_PoolObj"><rect codeLine="34" fill="#F1F1F1" height="83.2188" id="PoolObj" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.9717" x="103.5" y="124.6094"/><ellipse cx="118.5" cy="140.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M121.2656,136.4844 Q121.4219,136.2656 121.6094,136.1563 Q121.7969,136.0469 122.0156,136.0469 Q122.3906,136.0469 122.625,136.3125 Q122.8594,136.5625 122.8594,137.1719 L122.8594,138.625 Q122.8594,139.2344 122.625,139.5 Q122.3906,139.7656 122.0156,139.7656 Q121.6719,139.7656 121.4688,139.5625 Q121.2656,139.375 121.1563,138.8594 Q121.1094,138.5 120.9219,138.3125 Q120.5938,137.9375 119.9844,137.7188 Q119.375,137.5 118.75,137.5 Q117.9844,137.5 117.3438,137.8281 Q116.7188,138.1563 116.2188,138.9063 Q115.7344,139.6563 115.7344,140.6875 L115.7344,141.7813 Q115.7344,143.0156 116.625,143.8438 Q117.5156,144.6563 119.1094,144.6563 Q120.0469,144.6563 120.7031,144.4063 Q121.0938,144.25 121.5156,143.8125 Q121.7813,143.5469 121.9219,143.4688 Q122.0781,143.3906 122.2813,143.3906 Q122.6094,143.3906 122.8594,143.6563 Q123.125,143.9063 123.125,144.25 Q123.125,144.5938 122.7813,145 Q122.2813,145.5781 121.4844,145.9063 Q120.4063,146.3594 119.1094,146.3594 Q117.5938,146.3594 116.3906,145.7344 Q115.4063,145.2344 114.7188,144.1719 Q114.0313,143.0938 114.0313,141.8125 L114.0313,140.6563 Q114.0313,139.3281 114.6406,138.1875 Q115.2656,137.0313 116.3594,136.4219 Q117.4531,135.7969 118.6875,135.7969 Q119.4219,135.7969 120.0625,135.9688 Q120.7188,136.125 121.2656,136.4844 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9717" x="132.5" y="146.3379">async_pool_obj_t</text><line style="stroke:#181818;stroke-width:0.5;" x1="104.5" x2="243.4717" y1="156.6094" y2="156.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.0889" x="109.5" y="175.1426">pool : async_pool_t*</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8477" x="109.5" y="192.752">std : zend_object</text><line style="stroke:#181818;stroke-width:0.5;" x1="104.5" x2="243.4717" y1="199.8281" y2="199.8281"/></g><g id="elem_GMN11"><path d="M358,702.1094 L358,744.1094 L301.5,748.1094 L358,752.1094 L358,793.8672 A0,0 0 0 0 358,793.8672 L534.3525,793.8672 A0,0 0 0 0 534.3525,793.8672 L534.3525,712.1094 L524.3525,702.1094 L358,702.1094 A0,0 0 0 0 358,702.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M524.3525,702.1094 L524.3525,712.1094 L534.3525,712.1094 L524.3525,702.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9771" x="364" y="720.6045">handler_flags determines</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.728" x="364" y="736.9561">whether callbacks are</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.3525" x="364" y="753.3076">PHP callable or C function.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.3735" x="364" y="769.6592">Allows PDO to use</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.188" x="364" y="786.0107">C API without overhead.</text></g><g id="elem_GMN14"><path d="M344,325.1094 L344,358.6094 L288.15,362.6094 L344,366.6094 L344,400.5156 A0,0 0 0 0 344,400.5156 L510.2217,400.5156 A0,0 0 0 0 510.2217,400.5156 L510.2217,335.1094 L500.2217,325.1094 L344,325.1094 A0,0 0 0 0 344,325.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M500.2217,325.1094 L500.2217,335.1094 L510.2217,335.1094 L500.2217,325.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.9917" x="350" y="343.6045">idle &#8212; circular buffer for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.7026" x="350" y="359.9561">free resources.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2217" x="350" y="376.3076">waiters &#8212; FIFO queue of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6689" x="350" y="392.6592">waiting coroutines.</text></g><!--reverse link InternalPool to BasePool--><g id="link_InternalPool_BasePool"><path codeLine="40" d="M174,451.8394 C174,500.2194 174,552.2494 174,609.3294 " fill="none" id="InternalPool-backto-BasePool" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="174,439.8394,170,445.8394,174,451.8394,178,445.8394,174,439.8394" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8608" x="175" y="510.1045">base (first field)</text></g><!--link PoolObj to InternalPool--><g id="link_PoolObj_InternalPool"><path codeLine="41" d="M174,207.8794 C174,230.3894 174,253.0594 174,279.5294 " fill="none" id="PoolObj-to-InternalPool" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="174,285.5294,178,276.5294,174,280.5294,170,276.5294,174,285.5294" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.5781" x="175" y="252.1045">pool</text></g><!--SRC=[bLJBRjim4BphAnRknJ7Wj8WlXGy54YT2VOg1t7eXA6fbCQ59Xm_dLGFzY7vXlwHBofRbHm5N5qdSsULoPfPUUeKmCqR1BVSS7hmDmWUBBikMN3pnEKBl1-eIxlHSQeJ-E_qmxjwqODUpwMLzqODFTwFyAh-5Zmpe4Oex1xqERadbcUy1Tt337QRT6cnyS8NQmnWw2Mc9-HPISrqgjAnIVEu86gJsNpjn8Qq8qZFdkKUAJvh_6uly2Ur3N6sn2wcPa- -uAJEwwjHPyDT_nbuiNoxHRXirnICAFsZ3mL5_PQHm32iZorraE6m_AowyiM-nl9P6mmTKWYi5Fu5sGwkvWdKBBj4bCOmz3ryZLxuMDOgdyn8Ah8n5niLpa1R_AyUYGbBol1mw1WamxnwxOUyOlixM7T_Xg_-S307zQA76QtcUZ-w-x7ljo6RJJTa3gnLDpqVMFAML9CSHDbbBSSkAK5KayGvBMieLCc52ik-nORYa9g9T8pK57Sgn5KOzkyxUYSQyN2H_fVTs1WOdeOcs5LTiuGwt9W9FCqESRzY9hDmNZnrY8e0ATJaPTFGhzrs_asgFvy5mk9llCVGIs_rAMkUXagZAYrwstNeu_BOlqZZra6NQq0HREQyzcAejbntV0YLIDWqptLI9xHfzJVIrN0EtpT3Fli_IAYz8K1gc2LH1atP6NwRujLBcXKYvlGTluXodrGdGxGOlqjScK2ihjCH_UPd5gp3sUDXfzp1Pwvy_ltwt3eB6GK03b02LHSf7Pu8Lw9fUjfw9UVaqluVdW86whjger7CGnb9JyUYTVlu2]--></g></svg>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="969px" preserveAspectRatio="none" style="width:572px;height:969px;background:#FFFFFF;" version="1.1" viewBox="0 0 572 969" width="572px" zoomAndPan="magnify"><title>Ciclo completo: acquire &#8594; use &#8594; release</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="237.4668" x="163.5952" y="29.5332">Ciclo completo: acquire &#8594; use &#8594; release</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="93.8281" y2="915.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="192.9004" x2="192.9004" y1="93.8281" y2="915.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="353.5684" x2="353.5684" y1="93.8281" y2="915.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="432.0508" x2="432.0508" y1="93.8281" y2="915.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="515.7266" x2="515.7266" y1="93.8281" y2="915.5625"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="5" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="12" y="82.752">Corrutina A</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="5" y="914.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="12" y="936.0957">Corrutina A</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42.0205" x="171.9004" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.0205" x="178.9004" y="82.752">Pool</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42.0205" x="171.9004" y="914.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.0205" x="178.9004" y="936.0957">Pool</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.4824" x="316.5684" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4824" x="323.5684" y="82.752">idle buffer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.4824" x="316.5684" y="914.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4824" x="323.5684" y="936.0957">idle buffer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60.6758" x="402.0508" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6758" x="409.0508" y="82.752">Factory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60.6758" x="402.0508" y="914.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6758" x="409.0508" y="936.0957">Factory</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="472.7266" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="479.7266" y="65.1426">Corrutina B</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.9033" x="490.2402" y="82.752">(waiting)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="472.7266" y="914.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="479.7266" y="936.0957">Corrutina B</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.9033" x="490.2402" y="953.7051">(waiting)</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="565.6572" x="0" y="125.0039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="565.6572" y1="125.0039" y2="125.0039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="565.6572" y1="128.0039" y2="128.0039"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="150.5063" x="207.5754" y="113.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132.8945" x="213.5754" y="131.3232">Acquire (coroutine A)</text><polygon fill="#181818" points="180.9106,166.5313,190.9106,170.5313,180.9106,174.5313,184.9106,170.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="48.9653" x2="186.9106" y1="170.5313" y2="170.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.2954" x="55.9653" y="165.6748">acquire()</text><polygon fill="#181818" points="342.3096,196.8828,352.3096,200.8828,342.3096,204.8828,346.3096,200.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="348.3096" y1="200.8828" y2="200.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30.3481" x="199.9106" y="196.0264">pop()</text><polygon fill="#181818" points="203.9106,227.2344,193.9106,231.2344,203.9106,235.2344,199.9106,231.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="197.9106" x2="353.3096" y1="231.2344" y2="231.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.6499" x="209.9106" y="226.3779">resource #1</text><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="234.9106" y1="261.5859" y2="261.5859"/><line style="stroke:#181818;stroke-width:1;" x1="234.9106" x2="234.9106" y1="261.5859" y2="274.5859"/><line style="stroke:#181818;stroke-width:1;" x1="193.9106" x2="234.9106" y1="274.5859" y2="274.5859"/><polygon fill="#181818" points="203.9106,270.5859,193.9106,274.5859,203.9106,278.5859,199.9106,274.5859" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1753" x="199.9106" y="256.7295">active_count++</text><polygon fill="#181818" points="59.9653,300.9375,49.9653,304.9375,59.9653,308.9375,55.9653,304.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="53.9653" x2="191.9106" y1="304.9375" y2="304.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.6499" x="65.9653" y="300.0811">resource #1</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="565.6572" x="0" y="334.1133"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="565.6572" y1="334.1133" y2="334.1133"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="565.6572" y1="337.1133" y2="337.1133"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="229.9663" x="167.8455" y="322.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="212.3545" x="173.8455" y="340.4326">Acquire (coroutine B, pool at max)</text><polygon fill="#181818" points="203.9106,375.6406,193.9106,379.6406,203.9106,383.6406,199.9106,379.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.9106" x2="515.6919" y1="379.6406" y2="379.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.2153" x="209.9106" y="374.7842">acquire(5000)</text><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="234.9106" y1="409.9922" y2="409.9922"/><line style="stroke:#181818;stroke-width:1;" x1="234.9106" x2="234.9106" y1="409.9922" y2="422.9922"/><line style="stroke:#181818;stroke-width:1;" x1="193.9106" x2="234.9106" y1="422.9922" y2="422.9922"/><polygon fill="#181818" points="203.9106,418.9922,193.9106,422.9922,203.9106,426.9922,199.9106,422.9922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.3989" x="199.9106" y="405.1357">idle empty, active == max</text><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="234.9106" y1="453.3438" y2="453.3438"/><line style="stroke:#181818;stroke-width:1;" x1="234.9106" x2="234.9106" y1="453.3438" y2="466.3438"/><line style="stroke:#181818;stroke-width:1;" x1="193.9106" x2="234.9106" y1="466.3438" y2="466.3438"/><polygon fill="#181818" points="203.9106,462.3438,193.9106,466.3438,203.9106,470.3438,199.9106,466.3438" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.3735" x="199.9106" y="448.4873">Add to waiters</text><path d="M293.3735,439.4922 L293.3735,465.4922 L462.3735,465.4922 L462.3735,449.4922 L452.3735,439.4922 L293.3735,439.4922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M452.3735,439.4922 L452.3735,449.4922 L462.3735,449.4922 L452.3735,439.4922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.8716" x="299.3735" y="457.9873">Coroutine B is suspended</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="565.6572" x="0" y="495.5195"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="565.6572" y1="495.5195" y2="495.5195"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="565.6572" y1="498.5195" y2="498.5195"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="151.2554" x="207.2009" y="484.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133.6436" x="213.2009" y="501.8389">Release (coroutine A)</text><polygon fill="#181818" points="180.9106,537.0469,190.9106,541.0469,180.9106,545.0469,184.9106,541.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="48.9653" x2="186.9106" y1="541.0469" y2="541.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.9453" x="55.9653" y="536.1904">release(resource #1)</text><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="234.9106" y1="571.3984" y2="571.3984"/><line style="stroke:#181818;stroke-width:1;" x1="234.9106" x2="234.9106" y1="571.3984" y2="584.3984"/><line style="stroke:#181818;stroke-width:1;" x1="193.9106" x2="234.9106" y1="584.3984" y2="584.3984"/><polygon fill="#181818" points="203.9106,580.3984,193.9106,584.3984,203.9106,588.3984,199.9106,584.3984" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.6499" x="199.9106" y="566.542">active_count--</text><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="234.9106" y1="614.75" y2="614.75"/><line style="stroke:#181818;stroke-width:1;" x1="234.9106" x2="234.9106" y1="614.75" y2="627.75"/><line style="stroke:#181818;stroke-width:1;" x1="193.9106" x2="234.9106" y1="627.75" y2="627.75"/><polygon fill="#181818" points="203.9106,623.75,193.9106,627.75,203.9106,631.75,199.9106,627.75" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.1816" x="199.9106" y="609.8936">beforeRelease? OK</text><polygon fill="#181818" points="342.3096,654.1016,352.3096,658.1016,342.3096,662.1016,346.3096,658.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="348.3096" y1="658.1016" y2="658.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.498" x="199.9106" y="653.2451">push(resource #1)</text><polygon fill="#181818" points="504.6919,684.4531,514.6919,688.4531,504.6919,692.4531,508.6919,688.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="510.6919" y1="688.4531" y2="688.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1226" x="199.9106" y="683.5967">wake (resource available)</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="565.6572" x="0" y="717.6289"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="565.6572" y1="717.6289" y2="717.6289"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="565.6572" y1="720.6289" y2="720.6289"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="185.1963" x="190.2305" y="706.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="167.5845" x="196.2305" y="723.9482">Retry acquire (coroutine B)</text><polygon fill="#181818" points="203.9106,759.1563,193.9106,763.1563,203.9106,767.1563,199.9106,763.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.9106" x2="515.6919" y1="763.1563" y2="763.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.249" x="209.9106" y="758.2998">retry acquire</text><polygon fill="#181818" points="342.3096,789.5078,352.3096,793.5078,342.3096,797.5078,346.3096,793.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="348.3096" y1="793.5078" y2="793.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30.3481" x="199.9106" y="788.6514">pop()</text><polygon fill="#181818" points="203.9106,819.8594,193.9106,823.8594,203.9106,827.8594,199.9106,823.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="197.9106" x2="353.3096" y1="823.8594" y2="823.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.6499" x="209.9106" y="819.0029">resource #1</text><line style="stroke:#181818;stroke-width:1;" x1="192.9106" x2="234.9106" y1="854.2109" y2="854.2109"/><line style="stroke:#181818;stroke-width:1;" x1="234.9106" x2="234.9106" y1="854.2109" y2="867.2109"/><line style="stroke:#181818;stroke-width:1;" x1="193.9106" x2="234.9106" y1="867.2109" y2="867.2109"/><polygon fill="#181818" points="203.9106,863.2109,193.9106,867.2109,203.9106,871.2109,199.9106,867.2109" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1753" x="199.9106" y="849.3545">active_count++</text><polygon fill="#181818" points="504.6919,893.5625,514.6919,897.5625,504.6919,901.5625,508.6919,897.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="192.9106" x2="510.6919" y1="897.5625" y2="897.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.6499" x="199.9106" y="892.7061">resource #1</text><!--SRC=[jL9BJiCm4Dtx5AEoITH6AWisbG9AAbL2B42iaP3hJ5iBDmx-57813i0HEGcEOwL9Q14RLXxxlPbvypo66u6miaB0icO25q3Pg-KAuUlZ4wnkJuK2gKP2AgeCPxoYfO79KYff3IyHiWbG3Sqz6r8Uf1GUQu8Xn0lNU6qt6rIUSUlkGyQACYDLxT4GdnEGFvNH6-KktiQTbfoGD8Kip1EnezmOqfGGhnUIQoyEkicZcFW71pIQ7539oZtwItAaAzJIAePmSTabT9KCF-0paxOqqsb07Tns7AQUqPZFN5kNHWtiwVjHS7v2yDLyFe_76ho_kAzCFGjwN8scrfYO5GKO2Orzg3GffK5GVBip2-WP35o3jhh2ii32Ytvib-8FneRrYNfZnxzPbYHZT8qRgJ1ql87xknzVPFNkTFtMj8MRxyLfxIZqGBcWQu5n6CQekjlz_Z-Sjbxr-V-wB_aezHi0]--></g></svg>
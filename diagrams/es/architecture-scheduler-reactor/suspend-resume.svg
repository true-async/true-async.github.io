<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="774px" preserveAspectRatio="none" style="width:798px;height:774px;background:#FFFFFF;" version="1.1" viewBox="0 0 798 774" width="798px" zoomAndPan="magnify"><title>Suspension y reanudacion de corrutinas</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="216.248" x="287.0898" y="29.5332">Suspension y reanudacion de corrutinas</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="164" x2="164" y1="93.8281" y2="719.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="355.0884" x2="355.0884" y1="93.8281" y2="719.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="560.3384" x2="560.3384" y1="93.8281" y2="719.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="645.3589" x2="645.3589" y1="93.8281" y2="719.8594"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="121" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="128" y="65.1426">Corrutina A</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2549" x="130.3379" y="82.752">(ejecutando)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="121" y="718.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="128" y="740.3926">Corrutina A</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2549" x="130.3379" y="758.002">(ejecutando)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.041" x="299.0884" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.041" x="323.5884" y="65.1426">Planificador</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.041" x="306.0884" y="82.752">(in context of A)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.041" x="299.0884" y="718.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.041" x="323.5884" y="740.3926">Planificador</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.041" x="306.0884" y="758.002">(in context of A)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.0205" x="529.3384" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0205" x="536.3384" y="65.1426">Reactor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1172" x="541.79" y="82.752">(libuv)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.0205" x="529.3384" y="718.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0205" x="536.3384" y="740.3926">Reactor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1172" x="541.79" y="758.002">(libuv)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="602.3589" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="609.3589" y="65.1426">Corrutina B</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.9033" x="619.8726" y="82.752">(waiting)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="602.3589" y="718.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="609.3589" y="740.3926">Corrutina B</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.9033" x="619.8726" y="758.002">(waiting)</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="791.4277" x="0" y="125.0039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="791.4277" y1="125.0039" y2="125.0039"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="791.4277" y1="128.0039" y2="128.0039"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="148.3418" x="321.543" y="113.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="130.73" x="327.543" y="131.3232">Suspend coroutine A</text><polygon fill="#181818" points="343.1089,185.8828,353.1089,189.8828,343.1089,193.8828,347.1089,189.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="164.9653" x2="349.1089" y1="189.8828" y2="189.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.1436" x="171.9653" y="185.0264">ZEND_ASYNC_SUSPEND()</text><path d="M5,153.1797 L5,212.1797 L159,212.1797 L159,163.1797 L149,153.1797 L5,153.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M149,153.1797 L149,163.1797 L159,163.1797 L149,153.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.4854" x="11" y="171.6748">No context switch!</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.439" x="11" y="188.0264">Scheduler runs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.999" x="11" y="204.3779">in coroutine A's context</text><line style="stroke:#181818;stroke-width:1;" x1="355.1089" x2="397.1089" y1="239.5859" y2="239.5859"/><line style="stroke:#181818;stroke-width:1;" x1="397.1089" x2="397.1089" y1="239.5859" y2="252.5859"/><line style="stroke:#181818;stroke-width:1;" x1="356.1089" x2="397.1089" y1="252.5859" y2="252.5859"/><polygon fill="#181818" points="366.1089,248.5859,356.1089,252.5859,366.1089,256.5859,362.1089,252.5859" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.6899" x="362.1089" y="234.7295">Procesar microtareas</text><polygon fill="#181818" points="548.8486,290.1133,558.8486,294.1133,548.8486,298.1133,552.8486,294.1133" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="355.1089" x2="554.8486" y1="294.1133" y2="294.1133"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.6807" x="362.1089" y="289.2568">reactor_execute(no_wait=true)</text><path d="M565,265.5859 L565,307.5859 L700,307.5859 L700,275.5859 L690,265.5859 L565,265.5859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M690,265.5859 L690,275.5859 L700,275.5859 L690,265.5859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.5972" x="571" y="284.0811">Non-blocking tick:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.8926" x="571" y="300.4326">collect ready events</text><polygon fill="#181818" points="366.1089,331.6406,356.1089,335.6406,366.1089,339.6406,362.1089,335.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="360.1089" x2="559.8486" y1="335.6406" y2="335.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.2017" x="372.1089" y="330.7842">Timer fired -&gt; enqueue(B)</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="791.4277" x="0" y="364.8164"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="791.4277" y1="364.8164" y2="364.8164"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="791.4277" y1="367.8164" y2="367.8164"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="144.0254" x="323.7012" y="353.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126.4136" x="329.7012" y="371.1357">Resume coroutine B</text><line style="stroke:#181818;stroke-width:1;" x1="355.1089" x2="397.1089" y1="410.3438" y2="410.3438"/><line style="stroke:#181818;stroke-width:1;" x1="397.1089" x2="397.1089" y1="410.3438" y2="423.3438"/><line style="stroke:#181818;stroke-width:1;" x1="356.1089" x2="397.1089" y1="423.3438" y2="423.3438"/><polygon fill="#181818" points="366.1089,419.3438,356.1089,423.3438,366.1089,427.3438,362.1089,423.3438" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.6533" x="362.1089" y="405.4873">coroutine_queue -&gt; Coroutine B</text><polygon fill="#181818" points="634.3242,460.8711,644.3242,464.8711,634.3242,468.8711,638.3242,464.8711" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="355.1089" x2="640.3242" y1="464.8711" y2="464.8711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.8589" x="362.1089" y="460.0146">zend_fiber_switch_context()</text><path d="M651,436.3438 L651,478.3438 L781,478.3438 L781,446.3438 L771,436.3438 L651,436.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M771,436.3438 L771,446.3438 L781,446.3438 L771,436.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6626" x="657" y="454.8389">Actual switching of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="657" y="471.1904">stack and registers</text><line style="stroke:#181818;stroke-width:1;" x1="646.3242" x2="688.3242" y1="522.75" y2="522.75"/><line style="stroke:#181818;stroke-width:1;" x1="688.3242" x2="688.3242" y1="522.75" y2="535.75"/><line style="stroke:#181818;stroke-width:1;" x1="647.3242" x2="688.3242" y1="535.75" y2="535.75"/><polygon fill="#181818" points="657.3242,531.75,647.3242,535.75,657.3242,539.75,653.3242,535.75" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.2998" x="653.3242" y="501.542">Continue execution</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.5635" x="653.3242" y="517.8936">from suspend point</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="791.4277" x="0" y="564.9258"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="791.4277" y1="564.9258" y2="564.9258"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="791.4277" y1="567.9258" y2="567.9258"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="148.3418" x="321.543" y="553.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="130.73" x="327.543" y="571.2451">Suspend coroutine B</text><polygon fill="#181818" points="366.1089,617.6289,356.1089,621.6289,366.1089,625.6289,362.1089,621.6289" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="360.1089" x2="645.3242" y1="621.6289" y2="621.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.1436" x="372.1089" y="616.7725">ZEND_ASYNC_SUSPEND()</text><path d="M230,593.1016 L230,635.1016 L349,635.1016 L349,603.1016 L339,593.1016 L230,593.1016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M339,593.1016 L339,603.1016 L349,603.1016 L339,593.1016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.998" x="236" y="611.5967">Scheduler is now</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.3799" x="236" y="627.9482">in context of B</text><polygon fill="#181818" points="548.8486,678.5078,558.8486,682.5078,548.8486,686.5078,552.8486,682.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="355.1089" x2="554.8486" y1="682.5078" y2="682.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.7397" x="362.1089" y="677.6514">reactor_execute(no_wait=false)</text><path d="M565,645.8047 L565,704.8047 L692,704.8047 L692,655.8047 L682,645.8047 L565,645.8047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M682,645.8047 L682,655.8047 L692,655.8047 L682,645.8047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.5771" x="571" y="664.2998">Queue is empty -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.8081" x="571" y="680.6514">block until</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.9854" x="571" y="697.0029">next event</text><!--SRC=[bLAzRjim4Dxv5DSibGU_W04LaDokHXebGmi1WaoVRCBKKIMFSTAdBqKgifmYGmO1altTtVV7YZN2rbZZMH52vTs0T80sF0_eV8z23Arb9TNG4iFT5LhKbE4Bol7hkBg3riKznIs-aYSyU8qse1M1DCJumc0wAD9C1DpEF60hsOmJMktzSy9DFtx4fWpeIwjkkPH2vFciILwfGvuB4Td2-bkY01lu_MFtlIcgNxjjKprLz-4hMmaoZA2numtipCpVNHJBqvUQPdrWFRcQeiRvpbVtDY54kh8uTs-DHEUWLz8QRjtPNJ6Jse2owQr9LcD6fXbrvcmzJkoiEfuYFLhljP7du044ZywRcgJH6YMFMmwlWCz8xCJRylM2pAFgWuPEsNGVwOz7ZrcvYXQcAYoKbT71_oJDW2QEZtyj8hhYOpW1_pVaqdHgZxP9ZZQJNTcjj4AoR_Na-YZFT3KvRkKvDjNYKJb6wrAevVB4DYnK5BXCNJLKKsTD3swgnM0KyGT5AUUYb9yfohKKoW6PorIBkVgb-4pINQlTkwX_HdV3Skm7VWrhQeh9WmzYTKqq7effYty0]--></g></svg>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="601px" preserveAspectRatio="none" style="width:413px;height:601px;background:#FFFFFF;" version="1.1" viewBox="0 0 413 601" width="413px" zoomAndPan="magnify"><title>Connection Lifecycle in Pool</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="191.3584" x="109.5688" y="34.5332">Connection Lifecycle in Pool</text><ellipse cx="240.4287" cy="58.6094" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="50.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="99.3711" x="190.7432" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79.3711" x="200.7432" y="111.0664">Coroutine calls</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75.709" x="200.7432" y="126.1602">$pdo-&gt;query()</text><polygon fill="#F1F1F1" points="189.3684,158.7969,291.489,158.7969,303.489,172.6328,291.489,186.4688,189.3684,186.4688,177.3684,172.6328,189.3684,158.7969" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102.1206" x="189.3684" y="170.2158">Is there a connection</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87.436" x="189.3684" y="184.0518">for this coroutine?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.1177" x="160.2507" y="170.2158">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12.2354" x="303.489" y="170.2158">no</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="50.6738" x="142.0315" y="196.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30.6738" x="152.0315" y="218.9258">Use it</text><rect fill="#F1F1F1" height="50.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126.0664" x="250.4558" y="196.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80.0332" x="260.4558" y="218.9258">Take from pool</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106.0664" x="260.4558" y="234.0195">or create a new one</text><polygon fill="#F1F1F1" points="240.4287,252.6563,252.4287,264.6563,240.4287,276.6563,228.4287,264.6563,240.4287,252.6563" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="50.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="100.0449" x="190.4063" y="296.6563"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80.0449" x="200.4063" y="319.1133">Execute query,</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64.0195" x="200.4063" y="334.207">return $stmt</text><polygon fill="#F1F1F1" points="198.2415,366.8438,282.616,366.8438,294.616,378.8438,282.616,390.8438,198.2415,390.8438,186.2415,378.8438,198.2415,366.8438" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84.3745" x="198.2415" y="383.3447">$stmt destroyed?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.1177" x="169.1238" y="376.4268">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12.2354" x="294.616" y="376.4268">no</text><polygon fill="#F1F1F1" points="104.4241,400.8438,164.3494,400.8438,176.3494,414.6797,164.3494,428.5156,104.4241,428.5156,92.4241,414.6797,104.4241,400.8438" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29.9546" x="104.4241" y="412.2627">Active</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59.9253" x="104.4241" y="426.0986">transaction?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.1177" x="75.3064" y="412.2627">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12.2354" x="176.3494" y="412.2627">no</text><rect fill="#F1F1F1" height="50.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="112.0508" x="11" y="438.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92.0508" x="21" y="460.9727">Connection stays</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74.0391" x="21" y="476.0664">with coroutine</text><rect fill="#F1F1F1" height="50.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117.3945" x="143.0508" y="438.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97.3945" x="153.0508" y="460.9727">Return connection</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36.0293" x="153.0508" y="476.0664">to pool</text><polygon fill="#F1F1F1" points="134.3867,494.7031,146.3867,506.7031,134.3867,518.7031,122.3867,506.7031,134.3867,494.7031" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="50.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="112.0508" x="290.4453" y="400.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92.0508" x="300.4453" y="423.3008">Connection stays</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74.0391" x="300.4453" y="438.3945">with coroutine</text><polygon fill="#F1F1F1" points="240.4287,524.7031,252.4287,536.7031,240.4287,548.7031,228.4287,536.7031,240.4287,524.7031" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="240.4287" cy="579.7031" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="240.4287" cy="579.7031" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="240.4287" x2="240.4287" y1="68.6094" y2="88.6094"/><polygon fill="#181818" points="236.4287,78.6094,240.4287,88.6094,244.4287,78.6094,240.4287,82.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="177.3684" x2="167.3684" y1="172.6328" y2="172.6328"/><line style="stroke:#181818;stroke-width:1;" x1="167.3684" x2="167.3684" y1="172.6328" y2="196.4688"/><polygon fill="#181818" points="163.3684,186.4688,167.3684,196.4688,171.3684,186.4688,167.3684,190.4688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="303.489" x2="313.489" y1="172.6328" y2="172.6328"/><line style="stroke:#181818;stroke-width:1;" x1="313.489" x2="313.489" y1="172.6328" y2="196.4688"/><polygon fill="#181818" points="309.489,186.4688,313.489,196.4688,317.489,186.4688,313.489,190.4688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="167.3684" x2="167.3684" y1="231.5625" y2="264.6563"/><line style="stroke:#181818;stroke-width:1;" x1="167.3684" x2="228.4287" y1="264.6563" y2="264.6563"/><polygon fill="#181818" points="218.4287,260.6563,228.4287,264.6563,218.4287,268.6563,222.4287,264.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="313.489" x2="313.489" y1="246.6563" y2="264.6563"/><line style="stroke:#181818;stroke-width:1;" x1="313.489" x2="252.4287" y1="264.6563" y2="264.6563"/><polygon fill="#181818" points="262.4287,260.6563,252.4287,264.6563,262.4287,268.6563,258.4287,264.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="240.4287" x2="240.4287" y1="138.7969" y2="158.7969"/><polygon fill="#181818" points="236.4287,148.7969,240.4287,158.7969,244.4287,148.7969,240.4287,152.7969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="240.4287" x2="240.4287" y1="276.6563" y2="296.6563"/><polygon fill="#181818" points="236.4287,286.6563,240.4287,296.6563,244.4287,286.6563,240.4287,290.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="92.4241" x2="67.0254" y1="414.6797" y2="414.6797"/><line style="stroke:#181818;stroke-width:1;" x1="67.0254" x2="67.0254" y1="414.6797" y2="438.5156"/><polygon fill="#181818" points="63.0254,428.5156,67.0254,438.5156,71.0254,428.5156,67.0254,432.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="176.3494" x2="201.748" y1="414.6797" y2="414.6797"/><line style="stroke:#181818;stroke-width:1;" x1="201.748" x2="201.748" y1="414.6797" y2="438.5156"/><polygon fill="#181818" points="197.748,428.5156,201.748,438.5156,205.748,428.5156,201.748,432.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="67.0254" x2="67.0254" y1="488.7031" y2="506.7031"/><line style="stroke:#181818;stroke-width:1;" x1="67.0254" x2="122.3867" y1="506.7031" y2="506.7031"/><polygon fill="#181818" points="112.3867,502.7031,122.3867,506.7031,112.3867,510.7031,116.3867,506.7031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="201.748" x2="201.748" y1="488.7031" y2="506.7031"/><line style="stroke:#181818;stroke-width:1;" x1="201.748" x2="146.3867" y1="506.7031" y2="506.7031"/><polygon fill="#181818" points="156.3867,502.7031,146.3867,506.7031,156.3867,510.7031,152.3867,506.7031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="186.2415" x2="134.3867" y1="378.8438" y2="378.8438"/><line style="stroke:#181818;stroke-width:1;" x1="134.3867" x2="134.3867" y1="378.8438" y2="400.8438"/><polygon fill="#181818" points="130.3867,390.8438,134.3867,400.8438,138.3867,390.8438,134.3867,394.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="294.616" x2="346.4707" y1="378.8438" y2="378.8438"/><line style="stroke:#181818;stroke-width:1;" x1="346.4707" x2="346.4707" y1="378.8438" y2="400.8438"/><polygon fill="#181818" points="342.4707,390.8438,346.4707,400.8438,350.4707,390.8438,346.4707,394.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="134.3867" x2="134.3867" y1="518.7031" y2="536.7031"/><line style="stroke:#181818;stroke-width:1;" x1="134.3867" x2="228.4287" y1="536.7031" y2="536.7031"/><polygon fill="#181818" points="218.4287,532.7031,228.4287,536.7031,218.4287,540.7031,222.4287,536.7031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="346.4707" x2="346.4707" y1="451.0313" y2="536.7031"/><line style="stroke:#181818;stroke-width:1;" x1="346.4707" x2="252.4287" y1="536.7031" y2="536.7031"/><polygon fill="#181818" points="262.4287,532.7031,252.4287,536.7031,262.4287,540.7031,258.4287,536.7031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="240.4287" x2="240.4287" y1="346.8438" y2="366.8438"/><polygon fill="#181818" points="236.4287,356.8438,240.4287,366.8438,244.4287,356.8438,240.4287,360.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="240.4287" x2="240.4287" y1="548.7031" y2="568.7031"/><polygon fill="#181818" points="236.4287,558.7031,240.4287,568.7031,244.4287,558.7031,240.4287,562.7031" style="stroke:#181818;stroke-width:1;"/><!--SRC=[XP2nJiGm38RtF8M76re9Nk0gWT290Ua6X63B4gMEBg9d5yVbwDlZXWeERY2JvVosl__Nh0F2ZeamQcQ2VKuOvsZDJF38F3XND8WwjzsnyAIP468OXk9fC_PyVVCseSnDspcN4pGF1VI0WX0WVc_rb5YiduirroMtxI8aQ6OihGDxsvTYLxLpE5ZH4A_jv_2Aa8IFC1gF9riL1OCkDmXFm8GsGtrE1dd_WN6ohqfrvKbG9o7O53tgYbXhwB6ey8pz9SWYkZFmT_Ia4gY4wk9IMF7EmhEaPilbbFNmOxIhqj-Uwk3J5zfvJChLupfIBVq9u_zhQn95UNIV]--></g></svg>